---
layout: base
permalink: /profile/
title: Profile
---


<body>

</body>

<script>
    function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for(var i = 0; i <ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }



      userid = getCookie("userid");
      // Prepare data for POST request
      const userData = {
    
          userid: userid
      };
  
      // Prepare request options
      const requestOptions = {
          method: 'POST',
          headers: new Headers({'content-type': 'application/json'}),
          body: JSON.stringify(userData), // Convert data object to JSON string
          mode: 'cors',
      };
  
      // URL for Create API
      // const url = 'http://127.0.0.1:8086/api/jwt_auth/register';
     const url = 'http://127.0.0.1:8086/api/jobuser/profile';
      // Async fetch API call to the database to create a new user
      fetch(url, requestOptions)
          .then(response => {
              // Handle server response
              if (response.status !== 200) {
                  const errorMsg = 'Database response error: ' + response.status;
                  console.log(errorMsg);
                  return;
              }
  
              // Response contains valid result
              response.json().then(data => {
                  if (data !== null) {
                      console.log(data)
                      document.cookie = "auth="+data;
                      
                  }
              });
          })
          .catch(error => {
              // Handle fetch errors
              console.error('Fetch error:', error);
          });
  
  
</script>

